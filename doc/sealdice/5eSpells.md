---
outline: deep
---

# 5eSpells 说明文档

## 为什么叫这个名字？

因为博德之门3也有一个叫5eSpells的mod，所以就这么叫了

## 这插件是干啥的？

这是一个实用工具脚本，它允许玩家通过简单的命令查询和模拟《龙与地下城5e》（Dungeons & Dragons Fifth Edition, D&D5e）中的法术效果。该脚本与一个deno运行的后端服务器交互，该服务器提供法术数据，并能够模拟掷骰子的结果

### 用法

```sh
.cs 法术名 [环数]
```

- **法术名**: 需要查询的法术名称
- **环数** (可选): 法术施放的环数，默认为3环

### 示例

假设你想查询名为“火球术”的法术，可以这样操作：

```sh
.cs 火球术
```

这会默认以3环的方式施放该法术——注意，不仅是火球术，是任意法术。如果一个法术的最低环位大于3，那么你就不能这样用它

你也可以指定环数：

```sh
.cs 闪电箭 5
```

### 插件选项

你可以在 Koishi 的插件配置中设置下面的内容：

- **API_URL**: 用于与后端服务器通信的URL地址。默认为 `http://localhost:8080`

### 代码解释

好像没什么好解释的

### 结果

#### 查询效果

当使用 `.cs` 命令时，机器人会从后端服务器获取法术信息，并返回模拟的法术效果，包括掷骰子的结果

#### 示例输出

```sh
Alice>.cs 火球术 5
bot>冷筱华 施放了 火球术
一道耀眼的闪光从你伸出的手指掠至射程内你所选的一点，并接着炸开成一阵伴随着轰隆低鸣声的爆炸烈焰。位于以该点为中心20尺半径球体内的每个生物都必须进行一次敏捷豁免。一个豁免失败的目标将受到{@dice 8d6}[3, 6, 6, 5, 1, 1, 5, 6 = 33]火焰伤害，豁免成功则只受到一半的伤害。这团火焰会绕过转角。且会点燃范围内所有未被穿戴或携带的可燃物体。
当你使用4环或更高的法术位施放此法术时，你使用的法术位每比原本高一环，伤害便会再增加{@scaledice 8d6|3-9|1d6}[1, 3, 5, 3, 5, 2, 5, 3, 3, 4 = 34]。
```

## 更多

### 使用说明

- 将此脚本放入海豹的js拓展文件夹
- 重载脚本
- 安装deno服务（不会可以百度）
- 使用deno运行后端服务器并保持其运行
```sh
Deno run -A read_data.ts
```

### 开发说明

- 在开发过程中，可以通过添加 `--watch` 参数来检测文件变化并自动重新编译
```sh
Deno run -A --watch read_data.ts
```

### 兼容性

- 支持中文和英文法术名称
